#!/bin/sh
#
# hotspot-login-manager
# https://github.com/syam44/Hotspot-Login-Manager
#
# Distributed under the GNU General Public License version 3
# https://www.gnu.org/copyleft/gpl.html
#
# Authors: syam (aks92@free.fr)
#
# Description: Spread version from root "VERSION" file to the whole codebase
#
set -e
cd "$(dirname "$(readlink -f "$0")")/.."

VERSION_PY="./hotspot_login_manager/libs/core/hlm_version_autogen.py"

cat >"$VERSION_PY.tmp" <<EOF
# -*- coding:utf-8 -*-
#
# hotspot-login-manager
# https://github.com/syam44/Hotspot-Login-Manager
#
# Distributed under the GNU General Public License version 3
# https://www.gnu.org/copyleft/gpl.html
#
# Authors: syam (aks92@free.fr)
#
# Description: Current version of the application
#
#              THIS FILE HAS BEEN AUTOMATICALLY GENERATED BY "make version", DO NOT MODIFY IT!
#
#              If you want to change the version, modify the root "VERSION" file
#              and run "make version" again.
#


#-----------------------------------------------------------------------------
def getVersion():
    return '$(cat ./VERSION)'


#-----------------------------------------------------------------------------
# vim: tabstop=4 expandtab shiftwidth=4 softtabstop=4
EOF

mv "$VERSION_PY.tmp" "$VERSION_PY"
